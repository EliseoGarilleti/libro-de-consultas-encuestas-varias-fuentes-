{
  "hash": "f7c5531f85a58957862dfd83b53885b0",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Intención de voto (IDV)\"\nformat:\n  html: default\n  pdf: default\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nknitr::opts_chunk$set(cache = FALSE, fig.path = \"figures/\")\n```\n:::\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Cargar entorno y configuraciones\nsource(\"code/00_setup.R\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n-- Attaching core tidyverse packages ------------------------ tidyverse 2.0.0 --\nv dplyr     1.1.4     v readr     2.1.5\nv forcats   1.0.1     v stringr   1.5.2\nv ggplot2   4.0.0     v tibble    3.3.0\nv lubridate 1.9.4     v tidyr     1.3.1\nv purrr     1.1.0     \n-- Conflicts ------------------------------------------ tidyverse_conflicts() --\nx dplyr::filter() masks stats::filter()\nx dplyr::lag()    masks stats::lag()\ni Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\nLoading required package: sysfonts\n\nLoading required package: showtextdb\n\n\nAttaching package: 'flextable'\n\n\nThe following object is masked from 'package:purrr':\n\n    compose\n\n\n\nAttaching package: 'scales'\n\n\nThe following object is masked from 'package:purrr':\n\n    discard\n\n\nThe following object is masked from 'package:readr':\n\n    col_factor\n```\n\n\n:::\n\n```{.r .cell-code}\nsource(\"code/01_theme.R\")\nsource(\"code/02_datos.R\")\n\n# Gráfico principal de IDV\ndf %>%\n  group_by(mes, idv_group) %>%\n  tally(wt = ponde_mes_ajustada) %>%\n  mutate(perc = round((n / sum(n) * 100), 1)) %>%\n  filter(idv_group %in% c(\"PSOE\", \"PP\", \"Vox\", \"Sumar\", \"Podemos\")) %>%\n  ggplot(aes(mes, perc, color = idv_group)) +\n  geom_line(linewidth = .6) +\n  geom_point(\n    data = ~.x %>%\n      group_by(idv_group) %>%\n      filter(mes == max(mes, na.rm = TRUE)) %>%\n      ungroup(),\n    size = 2.5\n  ) +\n  scale_x_date(labels = label_date(\"%b %y\", locale = \"es_ES\")) +\n  scale_color_manual(values = colores_partidos) +\n  theme_minimal() + \n  theme_1\n```\n\n::: {.cell-output-display}\n![](figures/unnamed-chunk-2-1.pdf){fig-pos='H'}\n:::\n:::\n\n",
    "supporting": [
      "01_idv_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {
      "knitr": [
        "{\"type\":\"list\",\"attributes\":{},\"value\":[]}"
      ]
    },
    "preserve": null,
    "postProcess": false
  }
}